export function layoutText(cols, text_string) {
  let array = []
  let x = 0
  let y = 0
  let lines = text_string.split('\n')
  let line_words = lines.map((l, i) => {
    let unbroke_words = l.split(' ')
    let words = []
    for (let i = 0; i < unbroke_words.length; i++) {
      let word = unbroke_words[i]
      if (word.length < cols) {
        words.push(word)
      } else {
        let broken = word.match(/.{1,cols}/g)
        words.push(...broken)
      }
    }
    return words.map(w => w.split(''))
  })
  let i = 0
  for (let l = 0; l < line_words.length; l++) {
    let line = line_words[l]
    for (let w = 0; w < line.length; w++) {
      let word = line[w]
      if (x + word.length > cols) {
        x = 0
        y++
      }
      for (let c = 0; c < word.length; c++) {
        array.push([word[c], x, y, i])
        x++
        i++
      }
      if (w !== line.length - 1) {
        array.push([' ', x, y, i])
        x++
        i++
      }
    }
    if (l !== line_words.length - 1) {
      array.push(['\n', x, y, i])
      x = 0
      y++
      i++
    }
  }

  return array
}

export let base =
  'data:image/png;base64,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'

export let base2 =
  'data:image/png;base64,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'
